# Руководство по настройке config.yaml

Файл `config.yaml` является основным конфигурационным файлом для бота Discord и содержит все необходимые настройки для его работы. В этом руководстве описаны все секции и параметры файла.

## Содержание

- [SETTINGS](#settings) - Общие настройки бота
- [AI_CHATTER](#ai_chatter) - Настройки модуля AI для общения в чате
- [MESSAGE_SENDER](#message_sender) - Настройки модуля отправки сообщений
- [CHAT_GPT](#chat_gpt) - Настройки OpenAI ChatGPT (опционально)
- [GEMINI](#gemini) - Настройки Google Gemini API

## SETTINGS

```yaml
SETTINGS:
    # Токен Discord для парсинга и получения информации об эмодзи
    DISCORD_TOKEN_FOR_PARSING: ""
    
    # Прокси для парсинга (формат: username:password@ip:port)
    PROXY_FOR_PARSING: ""

    # Количество одновременных потоков
    THREADS: 1

    # Количество повторных попыток для ЛЮБОГО действия
    ATTEMPTS: 5

    # Если true, бот будет использовать только первый аккаунт из списка и работать циклически
    # Это полезно, когда у вас только один аккаунт, и вы хотите, чтобы бот продолжал работать 
    # с ним в бесконечном цикле без выхода из программы
    USE_SINGLE_ACCOUNT: true

    # Перемешивать ли аккаунты в случайном порядке
    SHUFFLE_ACCOUNTS: true

    # Диапазон аккаунтов для использования
    # ПО УМОЛЧАНИЮ: [0, 0] - все аккаунты
    # [3, 5] - только аккаунты 3, 4, 5
    # [7, 7] - только аккаунт 7
    ACCOUNTS_RANGE: [0, 0]

    # РАБОТАЕТ ТОЛЬКО ЕСЛИ ACCOUNTS_RANGE РАВЕН [0, 0]
    # Конкретные аккаунты для использования
    # ПО УМОЛЧАНИЮ: [] - все аккаунты
    # Пример: [1, 4, 6] - бот будет использовать только аккаунты 1, 4 и 6
    EXACT_ACCOUNTS_TO_USE: []

    # Пауза между попытками (в секундах)
    PAUSE_BETWEEN_ATTEMPTS: [1, 2]

    # Случайная пауза между аккаунтами (в секундах)
    RANDOM_PAUSE_BETWEEN_ACCOUNTS: [1, 2]

    # Случайная пауза между действиями (в секундах)
    RANDOM_PAUSE_BETWEEN_ACTIONS: [1, 2]

    # Случайная пауза перед запуском каждого аккаунта
    # для обеспечения того, чтобы все аккаунты запускались в разное время
    RANDOM_INITIALIZATION_PAUSE: [1, 2]

    # Использовать случайные изображения профиля для задачи изменения изображения профиля
    RANDOM_PROFILE_PICTURES: true
```

### Важные примечания:
- Для работы с несколькими аккаунтами убедитесь, что они правильно указаны в файле `data/accounts.xlsx`
- Время указывается в секундах, где для пауз можно задать диапазон [мин, макс]
- При указании диапазона [1, 2] бот будет случайным образом выбирать паузу между 1 и 2 секундами

## AI_CHATTER

```yaml
AI_CHATTER:
    # ID сервера Discord, где бот будет отправлять сообщения
    GUILD_ID: ""

    # ID канала Discord, где бот будет отправлять сообщения
    CHANNEL_ID: ""

    # Вероятность (в процентах) ответа бота на вопрос
    # Если бота спрашивают о чем-то, какова вероятность того, что он ответит или проигнорирует вопрос
    ANSWER_PERCENTAGE: 50

    # Сколько процентов сообщений будут ОТВЕТАМИ на сообщения других пользователей
    # Остальные сообщения будут просто отправлены в чат
    # Если 0, бот не будет отвечать на сообщения других пользователей
    # Если 100, бот будет отправлять только ответы на сообщения других пользователей
    REPLY_PERCENTAGE: 50

    # Количество сообщений для отправки (диапазон)
    MESSAGES_TO_SEND_PER_ACCOUNT: [3, 5]

    # Пауза между сообщениями (в секундах)
    PAUSE_BETWEEN_MESSAGES: [3, 5]

    # Пауза после получения ответа от AI и перед отправкой сообщения в Discord
    PAUSE_BEFORE_MESSAGE: [1, 2]
```

### Настройка чат-бота:
- Для получения `GUILD_ID` и `CHANNEL_ID` включите режим разработчика в Discord и скопируйте ID
- Используйте `ANSWER_PERCENTAGE` и `REPLY_PERCENTAGE` для настройки поведения бота
- Рекомендуемая пауза между сообщениями — 3-5 секунд, чтобы избежать ограничений Discord

## MESSAGE_SENDER

```yaml
MESSAGE_SENDER:
    # ID сервера Discord, где бот будет отправлять сообщения
    GUILD_ID: ""

    # ID канала Discord, где бот будет отправлять сообщения
    CHANNEL_ID: ""
    
    # Удалять сообщение сразу после отправки
    DELETE_MESSAGE_INSTANTLY: false

    # Отправлять сообщения случайным образом
    SEND_MESSAGES_RANDOMLY: false

    # Количество сообщений для отправки ДЛЯ КАЖДОГО АККАУНТА
    NUMBER_OF_MESSAGES_TO_SEND: 3

    # Пауза между сообщениями (в секундах)
    PAUSE_BETWEEN_MESSAGES: [1, 5]
```

### Примечания к отправке сообщений:
- Этот модуль используется для простой отправки сообщений без AI-генерации
- Сообщения берутся из файлов в папке `data/messages/`
- Если `DELETE_MESSAGE_INSTANTLY: true`, сообщения будут удаляться сразу после отправки

## CHAT_GPT

```yaml
CHAT_GPT:
    # Список API-ключей. Бот будет использовать случайный API-ключ для каждого сообщения
    API_KEYS: ["sk-proj-"]
    
    # Модель ChatGPT для использования. https://platform.openai.com/docs/models
    MODEL: "gpt-4o"

    # В некоторых странах вам может потребоваться использовать прокси для доступа к ChatGPT
    # По умолчанию пусто. Формат: username:password@ip:port
    PROXY_FOR_CHAT_GPT: ""
```

### Работа с ChatGPT:
- Для использования ChatGPT API вам необходимо получить ключ API на сайте OpenAI
- Поддерживает новейшие модели, включая GPT-4o
- В некоторых регионах может потребоваться настройка прокси для доступа к API

## GEMINI

```yaml
GEMINI:
    # Список API-ключей для Google Gemini API. Бот будет использовать случайный API-ключ для каждого сообщения
    API_KEYS: ["AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"]
    
    # Модель Gemini для использования. Доступные модели: gemini-2.0-flash, gemini-2.0-pro и др.
    MODEL: "gemini-2.0-flash"

    # В некоторых странах вам может потребоваться использовать прокси для доступа к Gemini API
    # По умолчанию пусто. Формат: username:password@ip:port
    PROXY_FOR_GEMINI: ""
```

### Настройка Google Gemini:
- Вам понадобится API-ключ Gemini от Google AI Studio
- Вы можете получить ключ бесплатно на [https://ai.google.dev/](https://ai.google.dev/)
- Для работы с geographically restricted регионами используйте прокси
- Рекомендуемая модель: gemini-2.0-flash для быстрых ответов

## Дополнительная информация

### Формат файла accounts.xlsx
Файл должен содержать следующие столбцы:
- Столбец A: токен Discord
- Столбец B (опционально): описание аккаунта

### Использование прокси
- Все секции, где указан прокси, поддерживают формат `username:password@ip:port`
- Если аутентификация не требуется, можно использовать формат `ip:port`
- Рекомендуется использовать HTTPS прокси для стабильной работы

### Настройка сообщений
- Промпты для AI генерации находятся в файлах:
  - `src/model/gpt/prompts.py` для ChatGPT
  - `src/model/gemini/prompts.py` для Gemini
- Сообщения для модуля MESSAGE_SENDER находятся в папке `data/messages/`

### Безопасность
- Никогда не выкладывайте конфигурационный файл с реальными API-ключами в публичный доступ
- Рекомендуется использовать отдельный файл с конфиденциальными данными и добавить его в .gitignore 